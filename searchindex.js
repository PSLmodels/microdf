Search.setIndex({"docnames": ["agg", "charts", "custom_taxes", "demo", "examples", "gini", "home", "income_measures", "weighting"], "filenames": ["agg.ipynb", "charts.ipynb", "custom_taxes.ipynb", "demo.ipynb", "examples.md", "gini.ipynb", "home.md", "income_measures.ipynb", "weighting.ipynb"], "titles": ["The <code class=\"docutils literal notranslate\"><span class=\"pre\">agg</span></code> function", "<code class=\"docutils literal notranslate\"><span class=\"pre\">microdf</span></code> charts", "Custom taxes", "<code class=\"docutils literal notranslate\"><span class=\"pre\">microdf</span></code> demo", "Examples", "<code class=\"docutils literal notranslate\"><span class=\"pre\">gini</span></code> example", "<code class=\"docutils literal notranslate\"><span class=\"pre\">microdf</span></code> documentation", "Income measures", "Weighting in taxcalc_helpers"], "terms": {"us": [0, 2, 3, 8], "see": [0, 1, 4], "effect": 0, "10": [0, 5, 8], "000": 0, "import": [0, 1, 2, 3, 5, 7, 8], "numpi": [0, 1, 2, 3, 7, 8], "np": [0, 1, 2, 3, 7, 8], "panda": [0, 1, 2, 3, 5, 7, 8], "pd": [0, 1, 2, 3, 5, 7, 8], "taxcalc": [0, 1, 2, 3, 7, 8], "tc": [0, 2, 3, 7, 8], "microdf": [0, 2, 4, 5, 7, 8], "mdf": [0, 1, 2, 3, 5, 7, 8], "modulenotfounderror": [0, 2, 3, 7, 8], "traceback": [0, 1, 2, 3, 7, 8], "most": [0, 1, 2, 3, 7, 8], "recent": [0, 1, 2, 3, 7, 8], "call": [0, 1, 2, 3, 7, 8], "last": [0, 1, 2, 3, 7, 8], "cell": [0, 1, 2, 3, 7, 8], "In": [0, 1, 2, 3, 7, 8], "1": [0, 1, 2, 3, 5, 7, 8], "line": [0, 1, 2, 3, 7, 8], "4": [0, 2, 3, 5, 7, 8], "2": [0, 1, 2, 3, 5, 7, 8], "5": [0, 2, 3, 5, 7, 8], "No": [0, 2, 3, 7, 8], "modul": [0, 1, 2, 3, 7, 8], "name": [0, 2, 3, 7, 8], "__version__": [0, 2, 7, 8], "3": [0, 3, 5, 7, 8], "0": [0, 1, 3, 5, 7, 8], "start": [0, 2, 3, 7, 8], "standard": 0, "datafram": [0, 2, 5, 7, 8], "add": [0, 2], "manual": 0, "reform": [0, 1, 3], "copi": [0, 1], "base": [0, 1, 3], "calc_df": [0, 1, 2, 3, 7, 8], "group_var": [0, 1, 2, 3, 7, 8], "mar": [0, 1, 3], "xtot": [0, 1, 2, 3, 7, 8], "metric_var": [0, 1, 2, 3, 7, 8], "aftertax_incom": [0, 1, 2, 7, 8], "deep": [0, 1], "true": [0, 1, 3], "ubi_pp": [0, 1], "10000": [0, 1], "add_weighted_metr": [0, 1, 3, 8], "aftertax_income_m_bas": 0, "aftertax_income_m_reform": 0, "aftertax_income_pctchg": 0, "916351e": 0, "06": 0, "939093e": 0, "261147": 0, "7": [0, 3, 8], "692072e": 0, "9": [0, 5, 8], "577865e": 0, "245161": 0, "8": [0, 8], "531427e": 0, "05": [0, 1], "275820e": 0, "495436": 0, "593936e": 0, "6": [0, 8], "242669e": 0, "210208e": 0, "09": 0, "creat": 0, "ubi_m": 0, "s006": [0, 2, 3, 7, 8], "1e6": [0, 8], "reform_metr": 0, "022742e": 0, "885793e": 0, "226775e": 0, "thi": [1, 5, 6, 8], "exampl": [1, 6], "requir": [1, 8], "instal": 1, "matplotlib": [1, 3], "pyplot": [1, 3], "plt": [1, 3], "set_plot_styl": [1, 3], "attributeerror": 1, "file": 1, "work": 1, "style": [1, 3], "py": [1, 3, 8], "24": [1, 3], "dpi": 1, "20": 1, "sn": [1, 3], "set_styl": 1, "white": 1, "22": [1, 8], "set": [1, 3], "up": 1, "roboto": [1, 3], "must": 1, "download": 1, "current": 1, "directori": 1, "23": 1, "http": 1, "stackoverflow": 1, "com": 1, "51844978": 1, "1840471": 1, "fm": [1, 3], "fontmanag": [1, 3], "ttflist": [1, 3], "createfontlist": [1, 3], "regular": [1, 3], "ttf": [1, 3], "26": 1, "27": 1, "savefig": 1, "28": 1, "figur": 1, "46": 1, "ax": 1, "spine": 1, "bottom": 1, "fals": 1, "47": 1, "49": 1, "mpl": [1, 3], "rcparam": 1, "updat": 1, "font_manag": 1, "ha": 1, "attribut": 1, "expanded_incom": [1, 2, 3, 7, 8], "ubi": 1, "quantile_chg_plot": 1, "df1": 1, "df2": 1, "col1": 1, "col2": 1, "w1": 1, "xtot_m": [1, 2, 3, 7, 8], "w2": 1, "show": 1, "quantile_pct_chg_plot": 1, "make": 1, "titl": 1, "more": [1, 8], "descript": 1, "note": [1, 2, 8], "loc": 1, "left": 1, "otherwis": 1, "two": [1, 3], "overlap": 1, "dispos": 1, "xlabel": 1, "ylabel": 1, "boundari": 1, "q": 1, "arang": [1, 8], "25": 1, "label1": 1, "old": 1, "label2": 1, "new": [1, 8], "necessari": 2, "ingredi": 2, "tpc_eci": [2, 7], "df": [2, 5, 7, 8], "eci_remove_col": 2, "column": [2, 3, 7, 8], "calcul": [2, 7, 8], "polici": 2, "center": 2, "": [2, 8], "expand": 2, "cash": 2, "incom": [2, 3], "measur": 2, "analysi": 2, "incid": 2, "vat": 2, "per": 2, "add_vat": 2, "head": [2, 7], "ar": [2, 3], "zero": [2, 5], "becaus": 2, "we": [2, 8], "block": 2, "neg": 2, "liabil": 2, "sampl": 2, "carbon": 2, "financi": 2, "transact": 2, "add_carbon_tax": 2, "add_ftt": 2, "amount": 2, "gener": 2, "total": [2, 3, 8], "500e9": 2, "vat2": 2, "weighted_sum": [2, 8], "1e9": 2, "hand": 2, "add_custom_tax": 2, "vat_incid": 2, "vat3": 2, "1e12": 2, "seaborn": 3, "chart": 3, "option": 3, "home": 3, "mgheni": 3, "anaconda3": [3, 8], "lib": [3, 8], "python3": [3, 8], "site": [3, 8], "packag": [3, 8], "matplotlibdeprecationwarn": 3, "The": 3, "function": [3, 6, 8], "wa": 3, "deprec": 3, "remov": 3, "minor": 3, "releas": 3, "later": 3, "addfont": 3, "instead": 3, "e02400": [3, 7, 8], "mcare_ben": [3, 7, 8], "ssi_ben": [3, 7, 8], "snap_ben": [3, 7, 8], "vet_ben": [3, 7, 8], "housing_ben": [3, 7, 8], "other_ben": [3, 7, 8], "e02300": [3, 7, 8], "mcaid_ben": [3, 7, 8], "tanf_ben": [3, 7, 8], "wic_ben": [3, 7, 8], "market_incom": [3, 7, 8], "ben": [3, 7, 8], "tax": [3, 7, 8], "s006_m": [3, 7, 8], "aftertax_income_m": 3, "dtype": [3, 8], "object": [3, 8], "defin": 3, "treat": 3, "capit": 3, "gain": 3, "ordinari": 3, "top": 3, "margin": 3, "70": 3, "cg_reform": 3, "cg_nodiff": 3, "2019": 3, "ii_rt7": 3, "group_n65": 3, "n65": 3, "revenu": 3, "billion": 3, "new_rev_m": 3, "sum": [3, 8], "1e3": 3, "326": 3, "110945495585": 3, "how": 3, "mani": 3, "n65_total_m": 3, "n65_m": 3, "59": 3, "21619976999999": 3, "divid": 3, "senior_ubi": 3, "5507": 3, "123840473106": 3, "allclos": 3, "fpl": 3, "distribut": 3, "impact": 3, "5032911973267852": 3, "48752755152259336": 3, "feder": 3, "fpl_xtot_m": 3, "where": 3, "022307196800575246": 3, "render": 4, "jupyt": 4, "notebook": [4, 6], "usag": 4, "x": 5, "100": 5, "w": [5, 8], "9617021276595745": 5, "equival": 5, "780952380952381": 5, "15": 5, "110": 5, "shift": 5, "6277777777777778": 5, "6800524934383202": 5, "includ": 6, "futur": 6, "also": [6, 8], "variabl": 7, "exclud": 7, "from": [7, 8], "recid": 7, "00000": 7, "000000": [7, 8], "43371": 7, "012504": 7, "250": 7, "14": 7, "53636": 7, "919015": 7, "10265": 7, "906511": 7, "000250": 7, "000500": 7, "20937": 7, "886511": 7, "211": 7, "63": 7, "18650": 7, "034959": 7, "2287": 7, "851553": 7, "000212": 7, "000635": 7, "1734": 7, "12939": 7, "8211": 7, "593627": 7, "13640": 7, "390612": 7, "52516": 7, "165397": 7, "3374": 7, "52239": 7, "323": 7, "50": 7, "6663": 7, "701623": 7, "13227": 7, "079816": 7, "000324": 7, "24999": 7, "433219": 7, "36857": 7, "709188": 7, "186": 7, "32": 7, "37764": 7, "286717": 7, "3906": 7, "542368": 7, "25646": 7, "150723": 7, "12118": 7, "135995": 7, "906": 7, "577529": 7, "000186": 7, "000373": 7, "29552": 7, "693091": 7, "27280": 7, "781223": 7, "63941": 7, "158283": 7, "343": 7, "08": 7, "35560": 7, "553286": 7, "1099": 7, "823774": 7, "62841": 7, "334509": 7, "000343": 7, "000686": 7, "36660": 7, "377060": 7, "row": 7, "21": 7, "nu18": 8, "index": 8, "can": 8, "number": 8, "peopl": 8, "unit": 8, "children": 8, "groupbi": 8, "152": 8, "988772": 8, "209": 8, "816367": 8, "688253": 8, "54": 8, "115850": 8, "18": 8, "859945": 8, "68": 8, "880292": 8, "438481": 8, "34": 8, "795527": 8, "371111": 8, "13": 8, "539261": 8, "744276": 8, "015182": 8, "216158": 8, "688063": 8, "090332": 8, "790239": 8, "026501": 8, "258552": 8, "012238": 8, "134320": 8, "007196": 8, "084201": 8, "12": 8, "000265": 8, "003715": 8, "what": 8, "want": 8, "For": 8, "within": 8, "now": 8, "do": 8, "same": 8, "thing": 8, "befor": 8, "nu18_m": 8, "37": 8, "719889": 8, "315444": 8, "484444": 8, "721381": 8, "296949": 8, "632325": 8, "212008": 8, "110139": 8, "071958": 8, "003184": 8, "without": 8, "ad": 8, "metric": 8, "total_children": 8, "fix": 8, "decim": 8, "str": 8, "round": 8, "m": 8, "98m": 8, "mean": 8, "median": 8, "weighted_mean": 8, "4782626894263673": 8, "weighted_median": 8, "typeerror": 8, "ipython": 8, "input": 8, "896d4579ebca": 8, "col": 8, "84": 8, "85": 8, "86": 8, "return": 8, "weighted_quantil": 8, "87": 8, "88": 8, "miss": 8, "posit": 8, "argument": 8, "quantil": 8, "look": 8, "have": 8, "differ": 8, "interfac": 8, "decile_bound": 8, "decil": 8}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"The": 0, "agg": 0, "function": 0, "setup": [0, 1, 2, 3, 7, 8], "load": [0, 2, 7, 8], "data": [0, 1, 2, 3, 7, 8], "chang": [0, 1, 3], "aftertax": 0, "incom": [0, 1, 7], "marit": 0, "statu": 0, "also": 0, "sum": 0, "baselin": 0, "expanded_incom": 0, "ubi": [0, 3], "amount": 0, "microdf": [1, 3, 6], "chart": 1, "prepar": 1, "percentil": 1, "percent": 1, "other": 1, "label": 1, "custom": 2, "tax": 2, "demo": 3, "gener": 3, "calcul": 3, "senior": 3, "add": 3, "aftertax_incom": 3, "recalcul": 3, "analyz": 3, "gini": [3, 5], "index": 3, "poverti": 3, "rate": 3, "exampl": [4, 5], "simpl": 5, "behavior": 5, "deal": 5, "neg": 5, "weight": [5, 8], "document": 6, "measur": 7, "taxcalc_help": 8}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 60}, "alltitles": {"The agg function": [[0, "the-agg-function"]], "Setup": [[0, "setup"], [1, "setup"], [2, "setup"], [3, "setup"], [7, "setup"], [8, "setup"]], "Load data": [[0, "load-data"], [2, "load-data"], [7, "load-data"], [8, "load-data"]], "agg": [[0, "agg"]], "Change in aftertax income by marital status.": [[0, "change-in-aftertax-income-by-marital-status"]], "Also sum baseline expanded_income": [[0, "also-sum-baseline-expanded-income"]], "Also sum UBI amount": [[0, "also-sum-ubi-amount"]], "microdf charts": [[1, "microdf-charts"]], "Prepare data": [[1, "prepare-data"]], "Charts": [[1, "charts"]], "Change to income percentiles": [[1, "change-to-income-percentiles"]], "Percent change to income percentiles": [[1, "percent-change-to-income-percentiles"]], "Other percentiles and labels": [[1, "other-percentiles-and-labels"]], "Custom taxes": [[2, "custom-taxes"]], "microdf demo": [[3, "microdf-demo"]], "Generate data": [[3, "generate-data"]], "Calculate senior UBI.": [[3, "calculate-senior-ubi"]], "Add senior UBI to aftertax_income and recalculate": [[3, "add-senior-ubi-to-aftertax-income-and-recalculate"]], "Analyze": [[3, "analyze"]], "Change to Gini index": [[3, "change-to-gini-index"]], "Change to poverty rate": [[3, "change-to-poverty-rate"]], "Examples": [[4, "examples"]], "gini example": [[5, "gini-example"]], "Simple behavior": [[5, "simple-behavior"]], "Dealing with negatives": [[5, "dealing-with-negatives"]], "Dealing with weights": [[5, "dealing-with-weights"]], "microdf documentation": [[6, "microdf-documentation"]], "Income measures": [[7, "income-measures"]], "Weighting in taxcalc_helpers": [[8, "weighting-in-taxcalc-helpers"]]}, "indexentries": {}})